/* Loading Components */

/* Base Loading */
.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-3xl);
  color: var(--gray-600);
  font-weight: var(--font-medium);
  gap: var(--spacing-md);
}

/* Loading Spinner */
.spinner {
  width: 2.5rem;
  height: 2.5rem;
  border: 3px solid var(--gray-200);
  border-top: 3px solid var(--chiaperini-blue);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Spinner Sizes */
.spinner-xs {
  width: 1rem;
  height: 1rem;
  border-width: 2px;
}

.spinner-sm {
  width: 1.5rem;
  height: 1.5rem;
  border-width: 2px;
}

.spinner-md {
  width: 2rem;
  height: 2rem;
  border-width: 3px;
}

.spinner-lg {
  width: 2.5rem;
  height: 2.5rem;
  border-width: 3px;
}

.spinner-xl {
  width: 3rem;
  height: 3rem;
  border-width: 4px;
}

/* Spinner Colors */
.spinner-primary {
  border-top-color: var(--chiaperini-blue);
}

.spinner-secondary {
  border-top-color: var(--techto-red);
}

.spinner-success {
  border-top-color: var(--success);
}

.spinner-warning {
  border-top-color: var(--warning);
}

.spinner-error {
  border-top-color: var(--error);
}

.spinner-white {
  border-color: rgba(255, 255, 255, 0.3);
  border-top-color: var(--white);
}

/* Dots Loading */
.loading-dots {
  display: flex;
  gap: var(--spacing-xs);
}

.loading-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--chiaperini-blue);
  animation: dotPulse 1.4s ease-in-out infinite both;
}

.loading-dot:nth-child(1) { animation-delay: -0.32s; }
.loading-dot:nth-child(2) { animation-delay: -0.16s; }
.loading-dot:nth-child(3) { animation-delay: 0; }

@keyframes dotPulse {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Pulse Loading */
.loading-pulse {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--chiaperini-blue);
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

/* Bars Loading */
.loading-bars {
  display: flex;
  gap: var(--spacing-xs);
  align-items: end;
}

.loading-bar {
  width: 4px;
  height: 20px;
  background: var(--chiaperini-blue);
  animation: barScale 1.2s ease-in-out infinite;
}

.loading-bar:nth-child(1) { animation-delay: -1.1s; }
.loading-bar:nth-child(2) { animation-delay: -1.0s; }
.loading-bar:nth-child(3) { animation-delay: -0.9s; }
.loading-bar:nth-child(4) { animation-delay: -0.8s; }
.loading-bar:nth-child(5) { animation-delay: -0.7s; }

@keyframes barScale {
  0%, 40%, 100% {
    transform: scaleY(0.4);
  }
  20% {
    transform: scaleY(1);
  }
}

/* Wave Loading */
.loading-wave {
  width: 60px;
  height: 40px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--chiaperini-blue),
    transparent
  );
  animation: wave 1.5s ease-in-out infinite;
}

@keyframes wave {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Progress Bar Loading */
.loading-progress {
  width: 100%;
  max-width: 300px;
  height: 4px;
  background: var(--gray-200);
  border-radius: 2px;
  overflow: hidden;
  position: relative;
}

.loading-progress-bar {
  height: 100%;
  background: linear-gradient(
    90deg,
    var(--chiaperini-blue),
    var(--chiaperini-dark)
  );
  width: 0%;
  animation: progressIndeterminate 2s ease-in-out infinite;
}

@keyframes progressIndeterminate {
  0% {
    width: 0%;
    margin-left: 0%;
  }
  50% {
    width: 75%;
    margin-left: 15%;
  }
  100% {
    width: 0%;
    margin-left: 100%;
  }
}

/* Skeleton Loading */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--gray-200) 25%,
    var(--gray-300) 50%,
    var(--gray-200) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--border-radius-sm);
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton-text {
  height: 1rem;
  margin-bottom: var(--spacing-sm);
}

.skeleton-text:last-child {
  margin-bottom: 0;
}

.skeleton-text.w-75 { width: 75%; }
.skeleton-text.w-50 { width: 50%; }
.skeleton-text.w-25 { width: 25%; }

.skeleton-title {
  height: 1.5rem;
  width: 60%;
  margin-bottom: var(--spacing-md);
}

.skeleton-avatar {
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
}

.skeleton-avatar.sm {
  width: 2rem;
  height: 2rem;
}

.skeleton-avatar.lg {
  width: 4rem;
  height: 4rem;
}

.skeleton-button {
  height: 2.5rem;
  width: 5rem;
  border-radius: var(--border-radius-sm);
}

.skeleton-card {
  height: 200px;
  border-radius: var(--border-radius-lg);
}

/* Loading Overlay */
.loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  backdrop-filter: blur(2px);
}

.loading-overlay-dark {
  background: rgba(0, 0, 0, 0.6);
  color: var(--white);
}

/* Loading States for Components */
.btn-loading {
  position: relative;
  color: transparent;
  pointer-events: none;
}

.btn-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 16px;
  height: 16px;
  border: 2px solid transparent;
  border-top: 2px solid currentColor;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.btn-loading.btn-sm::after {
  width: 14px;
  height: 14px;
}

.btn-loading.btn-lg::after {
  width: 20px;
  height: 20px;
}

/* Table Loading */
.table-loading {
  position: relative;
  
}

.table-loading::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  
}

/* Card Loading */
.card-loading {
  position: relative;
  overflow: hidden;
}

.card-loading::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: cardShimmer 1.5s infinite;
  z-index: 1;
}

@keyframes cardShimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

/* Loading Text Animation */
.loading-text {
  position: relative;
}

.loading-text::after {
  content: '';
  animation: loadingDots 1.5s infinite;
}

@keyframes loadingDots {
  0%, 20% { content: ''; }
  40% { content: '.'; }
  60% { content: '..'; }
  80%, 100% { content: '...'; }
}

/* Circular Progress */
.loading-circle {
  width: 50px;
  height: 50px;
  position: relative;
}

.loading-circle-bg {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 4px solid var(--gray-200);
}

.loading-circle-progress {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 4px solid transparent;
  border-top: 4px solid var(--chiaperini-blue);
  animation: spin 1s linear infinite;
}

/* Loading with Message */
.loading-with-message {
  text-align: center;
  max-width: 300px;
}

.loading-message {
  margin-top: var(--spacing-md);
  color: var(--gray-600);
  font-size: var(--text-sm);
  line-height: 1.5;
}

.loading-submessage {
  margin-top: var(--spacing-xs);
  color: var(--gray-500);
  font-size: var(--text-xs);
}

/* Loading Sizes */
.loading-sm {
  padding: var(--spacing-lg);
}

.loading-sm .spinner {
  width: 1.5rem;
  height: 1.5rem;
}

.loading-lg {
  padding: var(--spacing-3xl);
}

.loading-lg .spinner {
  width: 3rem;
  height: 3rem;
}

/* Loading for Page */
.loading-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: var(--gray-50);
}

.loading-fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--white);
  z-index: 9999;
}

/* Responsive Loading */
@media (max-width: 768px) {
  .loading {
    padding: var(--spacing-xl);
  }
  
  .loading-with-message {
    max-width: 250px;
  }
  
  .loading-message {
    font-size: var(--text-xs);
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .spinner,
  .loading-dot,
  .loading-pulse,
  .loading-bar,
  .loading-wave,
  .loading-progress-bar,
  .skeleton,
  .loading-circle-progress,
  .btn-loading::after {
    animation: none;
  }
  
  .loading-text::after {
    content: '...';
    animation: none;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .spinner {
    border-width: 4px;
  }
  
  .loading-dot,
  .loading-bar,
  .loading-pulse {
    background: var(--gray-900);
  }
}

/* Loading Accessibility */
.loading[aria-live="polite"] {
  /* Screen reader will announce when convenient */
}

.loading[aria-live="assertive"] {
  /* Screen reader will announce immediately */
}

/* Loading Focus Management */
.loading:focus {
  outline: 2px solid var(--chiaperini-blue);
  outline-offset: 2px;
}